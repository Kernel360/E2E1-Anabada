<div class="pagetitle">
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">AnabadA</a></li>
            <li class="breadcrumb-item active">회원</li>
        </ol>
    </nav>
</div><!-- End Page Title -->

<section class="section">
    <div class="row">
        <div class="col-lg-12">

            <div class="card">
                <div class="card-body">
                    <!-- Table with stripped rows -->
                    <table class="table align-middle">
                        <thead>
                        <tr>
                            <th scope="col">이메일</th>
                            <th scope="col">닉네임</th>
                            <th scope="col">성별</th>
                            <th scope="col">생년월일</th>
                        </tr>
                        </thead>
                        <tbody id="memberList">
                        </tbody>
                    </table>

                </div>
            </div>

        </div>
    </div>
</section>
<script src="/js/commons.js"></script>
<script>
    $(document).ready(function () {
        fn_init();
    });

    function fn_init() {
        fn_getMemberList();
        fn_setEvent();
    }

    function fn_getMemberList() {
        // JSON 데이터를 가져오는 비동기 요청
        $.ajax({
            url: '/api/v1/members/',
            method: 'GET',
            dataType: 'json',
            success: function (data) {
                var members = data.members;

                for (var i = 0; i < members.length; i++) {
                    var member = members[i];
                    var memberItem = '<tr class="member-item" data-member-id="' + member.memberId + '">' +
                        '<td>' + member.email + '</td>' +
                        '<td>' + member.nickname + '</td>' +
                        '<td>' + member.gender + '</td>' +
                        '<td>' + member.birth + '</td>' +
                        '</tr>';
                    $('#memberList').append(memberItem);
                }

                fn_setEvent();
            },
            error: function () {
            }
        });
    }
</script>
